Version 4
SHEET 1 1804 968
WIRE 816 96 816 80
WIRE 816 96 768 96
WIRE 1008 112 1008 80
WIRE 1072 112 1008 112
WIRE 864 128 816 128
WIRE 1008 128 960 128
WIRE 768 208 768 96
WIRE 816 208 768 208
WIRE 928 208 896 208
WIRE 960 208 960 128
WIRE 960 208 928 208
WIRE 1072 208 1072 112
WIRE 1072 208 1008 208
WIRE 208 224 144 224
WIRE 384 224 208 224
WIRE 384 240 384 224
WIRE 864 240 864 128
WIRE 880 240 864 240
WIRE 944 240 880 240
WIRE 144 256 144 224
WIRE 944 256 944 240
WIRE 896 272 896 208
WIRE 912 272 896 272
WIRE 1216 288 976 288
WIRE 1232 288 1216 288
WIRE 1296 288 1296 176
WIRE 544 304 384 304
WIRE 672 304 544 304
WIRE 912 304 672 304
WIRE 144 368 144 336
WIRE 944 368 944 320
WIRE 992 368 944 368
WIRE 1024 368 992 368
WIRE 944 400 816 400
WIRE 1296 416 1296 368
WIRE 1024 480 1024 368
WIRE 1024 480 944 480
FLAG 208 224 N_entropy_rising
IOPIN 208 224 In
FLAG 544 304 N_differentiator_out
FLAG 1216 288 analog_spike_override
IOPIN 1216 288 Out
FLAG 928 208 N_threshold_ref
FLAG 992 368 VSS
FLAG 880 240 VDD
FLAG 1296 176 N_fsm_spike_in
IOPIN 1296 176 Out
SYMBOL voltage 144 240 R0
WINDOW 3 -182 -584 Left 2
SYMATTR InstName V_entropy_rising
SYMATTR Value PWL file=0 0 0.1m 0 0.15m 5 0.2m 5 0.25m 0 0.3m 0 0.4m 1 0.45m 1.5 0.5m 2 0.55m 2.5 0.6m 3 0.65m 5 0.7m 5 0.75m 0
SYMBOL voltage 816 112 R0
SYMATTR InstName V_VDD
SYMATTR Value 5
SYMBOL voltage 944 384 R0
SYMATTR InstName V_VSS
SYMATTR Value -5
SYMBOL voltage 1008 112 R0
SYMATTR InstName V_threshold
SYMATTR Value 0.3
SYMBOL res 656 208 R0
SYMATTR InstName R_differentiator
SYMATTR Value 1k
SYMBOL cap 368 240 R0
SYMATTR InstName C_differentiator
SYMATTR Value 1nF
SYMBOL OpAmps/opamp2 944 224 R0
SYMATTR InstName XU1_comparator
SYMATTR Value AD711
SYMBOL g 144 352 R0
SYMATTR InstName G1
SYMBOL g 1008 -16 R0
SYMATTR InstName G2
SYMBOL g 672 128 R0
SYMATTR InstName G3
SYMBOL g 816 -16 R0
SYMATTR InstName G4
SYMBOL g 816 384 R0
SYMATTR InstName G5
SYMBOL bv 1296 272 R0
SYMATTR InstName B1_spike_adc
SYMATTR Value V=F(V(analog_spike_override) > 2.5 ? 1 : 0)
SYMBOL g 1296 400 R0
SYMATTR InstName G6
TEXT 1416 176 Left 2 !.lib OpAmps/AD711.asy\n.tran 0 0.8m
